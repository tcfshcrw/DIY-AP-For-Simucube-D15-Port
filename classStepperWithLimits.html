<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DIY-Sim-Racing-FFB-Pedal: StepperWithLimits Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DIY-Sim-Racing-FFB-Pedal<span id="projectnumber">&#160;Version 1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classStepperWithLimits-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">StepperWithLimits Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for StepperWithLimits:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits__coll__graph.png" border="0" usemap="#aStepperWithLimits_coll__map" alt="Collaboration graph"/></div>
<map name="aStepperWithLimits_coll__map" id="aStepperWithLimits_coll__map">
<area shape="rect" title=" " alt="" coords="131,137,260,163"/>
<area shape="rect" title=" " alt="" coords="5,5,140,31"/>
<area shape="rect" title=" " alt="" coords="165,5,226,31"/>
<area shape="rect" title=" " alt="" coords="250,5,311,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a424af3792f1eff26df3891ba87c67b0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a424af3792f1eff26df3891ba87c67b0c">StepperWithLimits</a> (uint8_t pinStep, uint8_t pinDirection, uint8_t pinMin, uint8_t pinMax, bool invertMotorDir_b)</td></tr>
<tr class="separator:a424af3792f1eff26df3891ba87c67b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d69f4e87fb970b84772c4631f11054"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a11d69f4e87fb970b84772c4631f11054">hasValidStepper</a> () const</td></tr>
<tr class="separator:a11d69f4e87fb970b84772c4631f11054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a6b1e2ed3ef28f3fae180220ea2ebe1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a2a6b1e2ed3ef28f3fae180220ea2ebe1">findMinMaxEndstops</a> ()</td></tr>
<tr class="separator:a2a6b1e2ed3ef28f3fae180220ea2ebe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8e3214139dc235b28cf71f79130773"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a9b8e3214139dc235b28cf71f79130773">refindMinLimit</a> ()</td></tr>
<tr class="separator:a9b8e3214139dc235b28cf71f79130773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7926d440acaa43ff7a0c433493a1fbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#ac7926d440acaa43ff7a0c433493a1fbb">checkLimitsAndResetIfNecessary</a> ()</td></tr>
<tr class="separator:ac7926d440acaa43ff7a0c433493a1fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1437a878e39449ff60809a21a4420be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#ac1437a878e39449ff60809a21a4420be">updatePedalMinMaxPos</a> (uint8_t pedalStartPosPct, uint8_t pedalEndPosPct)</td></tr>
<tr class="separator:ac1437a878e39449ff60809a21a4420be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8313b74bf1e3ed65cb8f0ecd2e12f1d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a8313b74bf1e3ed65cb8f0ecd2e12f1d3">isAtMinPos</a> ()</td></tr>
<tr class="separator:a8313b74bf1e3ed65cb8f0ecd2e12f1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e65fc92d3e4201210813479951f500"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a58e65fc92d3e4201210813479951f500">correctPos</a> (int32_t posOffset)</td></tr>
<tr class="separator:a58e65fc92d3e4201210813479951f500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55714344e8a318bf54da2139fed63695"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a55714344e8a318bf54da2139fed63695">findMinMaxSensorless</a> (<a class="el" href="classisv57communication.html">isv57communication</a> *isv57)</td></tr>
<tr class="separator:a55714344e8a318bf54da2139fed63695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae9c45f6a0453402fc1c3358080dc42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a8ae9c45f6a0453402fc1c3358080dc42">refindMinLimitSensorless</a> (<a class="el" href="classisv57communication.html">isv57communication</a> *isv57)</td></tr>
<tr class="separator:a8ae9c45f6a0453402fc1c3358080dc42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc22a07418cfeee8055f98b534dc4fd"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#afbc22a07418cfeee8055f98b534dc4fd">moveTo</a> (int32_t position, bool blocking=false)</td></tr>
<tr class="separator:afbc22a07418cfeee8055f98b534dc4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3be83237379d9977fc7ee7fec6d08d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#ace3be83237379d9977fc7ee7fec6d08d">printStates</a> ()</td></tr>
<tr class="separator:ace3be83237379d9977fc7ee7fec6d08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e837fe28ef4ee22e787b5b6d6bfc716"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a6e837fe28ef4ee22e787b5b6d6bfc716">getCurrentPositionFromMin</a> () const</td></tr>
<tr class="separator:a6e837fe28ef4ee22e787b5b6d6bfc716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9387288097ea2cb4dbf120d8df003177"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a9387288097ea2cb4dbf120d8df003177">getCurrentPosition</a> () const</td></tr>
<tr class="separator:a9387288097ea2cb4dbf120d8df003177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef91cbf9e5f772215cecfc46977aa7c3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#aef91cbf9e5f772215cecfc46977aa7c3">getCurrentPositionFraction</a> () const</td></tr>
<tr class="separator:aef91cbf9e5f772215cecfc46977aa7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866100a58cdcdb1bddb56fc9d2092924"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a866100a58cdcdb1bddb56fc9d2092924">getCurrentPositionFractionFromExternalPos</a> (int32_t extPos_i32) const</td></tr>
<tr class="separator:a866100a58cdcdb1bddb56fc9d2092924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ccdee6605b7c02cc5b71786de8644e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a61ccdee6605b7c02cc5b71786de8644e">getTargetPositionSteps</a> () const</td></tr>
<tr class="separator:a61ccdee6605b7c02cc5b71786de8644e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2056dc79cd801ddee648385164186bf3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a2056dc79cd801ddee648385164186bf3">getLimitMin</a> () const</td></tr>
<tr class="separator:a2056dc79cd801ddee648385164186bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9c5f23735aa95e3f599a85b4515397"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#afe9c5f23735aa95e3f599a85b4515397">getLimitMax</a> () const</td></tr>
<tr class="separator:afe9c5f23735aa95e3f599a85b4515397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61366d2883f5cde889a75e1f9a32157"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#ac61366d2883f5cde889a75e1f9a32157">getTravelSteps</a> () const</td></tr>
<tr class="separator:ac61366d2883f5cde889a75e1f9a32157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7529fd847ffb9c2fe45afed1d8480e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#add7529fd847ffb9c2fe45afed1d8480e">setSpeed</a> (uint32_t speedInStepsPerSecond)</td></tr>
<tr class="separator:add7529fd847ffb9c2fe45afed1d8480e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afa1f4ac8a0b3daf8cb9140855c94db14"><td class="memItemLeft" align="right" valign="top">FastAccelStepper *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a></td></tr>
<tr class="separator:afa1f4ac8a0b3daf8cb9140855c94db14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103d7a622bf70d2cb3945911ab041975"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a103d7a622bf70d2cb3945911ab041975">_pinMin</a></td></tr>
<tr class="separator:a103d7a622bf70d2cb3945911ab041975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2d3d4055dfa71c9f46dfa1f321d068"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a1c2d3d4055dfa71c9f46dfa1f321d068">_pinMax</a></td></tr>
<tr class="separator:a1c2d3d4055dfa71c9f46dfa1f321d068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605fe0c33b0cc7a0012b21cce230ac40"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a></td></tr>
<tr class="separator:a605fe0c33b0cc7a0012b21cce230ac40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2033a3b9de58e9e63c1458e4ce6647"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">_limitMax</a></td></tr>
<tr class="separator:aae2033a3b9de58e9e63c1458e4ce6647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6078d72b8812a8da677c81f861dcbfc6"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a></td></tr>
<tr class="separator:a6078d72b8812a8da677c81f861dcbfc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92603ced68dd11e494775d7e7248fa21"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStepperWithLimits.html#a92603ced68dd11e494775d7e7248fa21">_posMax</a></td></tr>
<tr class="separator:a92603ced68dd11e494775d7e7248fa21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00012">12</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a424af3792f1eff26df3891ba87c67b0c" name="a424af3792f1eff26df3891ba87c67b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424af3792f1eff26df3891ba87c67b0c">&#9670;&#160;</a></span>StepperWithLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StepperWithLimits::StepperWithLimits </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pinStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pinDirection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pinMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pinMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>invertMotorDir_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00030">30</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>  : <a class="code hl_variable" href="classStepperWithLimits.html#a103d7a622bf70d2cb3945911ab041975">_pinMin</a>(pinMin), <a class="code hl_variable" href="classStepperWithLimits.html#a1c2d3d4055dfa71c9f46dfa1f321d068">_pinMax</a>(pinMax)</div>
<div class="line"><span class="lineno">   32</span>  , <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>(0),    <a class="code hl_variable" href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">_limitMax</a>(0)</div>
<div class="line"><span class="lineno">   33</span>  , <a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>(0),      <a class="code hl_variable" href="classStepperWithLimits.html#a92603ced68dd11e494775d7e7248fa21">_posMax</a>(0)</div>
<div class="line"><span class="lineno">   34</span>{</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>  </div>
<div class="line"><span class="lineno">   37</span>  pinMode(pinMin, INPUT);</div>
<div class="line"><span class="lineno">   38</span>  pinMode(pinMax, INPUT);</div>
<div class="line"><span class="lineno">   39</span>  </div>
<div class="line"><span class="lineno">   40</span>  </div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a> = <a class="code hl_function" href="Dev_2StepperWithLimits_8cpp.html#a88d99673b7684df95731c08c8250cbf1">stepperEngine</a>().stepperConnectToPin(pinStep);</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>  </div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>  <span class="comment">// Stepper Parameters</span></div>
<div class="line"><span class="lineno">   46</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>) {</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setDirectionPin(pinDirection, MOTOR_INVERT_MOTOR_DIR);</div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setAutoEnable(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setSpeedInHz(<a class="code hl_variable" href="StepperWithLimits_8h.html#aa551558e56e3703986579ff2a81de7eb">MAXIMUM_STEPPER_SPEED</a>);            <span class="comment">// steps/s</span></div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setAcceleration(<a class="code hl_variable" href="StepperWithLimits_8h.html#a8f5c3b1c34c1f1d9e25b686b8730125a">MAXIMUM_STEPPER_ACCELERATION</a>);  <span class="comment">// steps/sÂ²</span></div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span><span class="comment">//#if defined(SUPPORT_ESP32_PULSE_COUNTER)</span></div>
<div class="line"><span class="lineno">   53</span><span class="comment">//    _stepper-&gt;attachToPulseCounter(1, 0, 0);</span></div>
<div class="line"><span class="lineno">   54</span><span class="comment">//#endif</span></div>
<div class="line"><span class="lineno">   55</span>  }</div>
<div class="line"><span class="lineno">   56</span>}</div>
<div class="ttc" id="aDev_2StepperWithLimits_8cpp_html_a88d99673b7684df95731c08c8250cbf1"><div class="ttname"><a href="Dev_2StepperWithLimits_8cpp.html#a88d99673b7684df95731c08c8250cbf1">stepperEngine</a></div><div class="ttdeci">FastAccelStepperEngine &amp; stepperEngine()</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00016">StepperWithLimits.cpp:16</a></div></div>
<div class="ttc" id="aStepperWithLimits_8h_html_a8f5c3b1c34c1f1d9e25b686b8730125a"><div class="ttname"><a href="StepperWithLimits_8h.html#a8f5c3b1c34c1f1d9e25b686b8730125a">MAXIMUM_STEPPER_ACCELERATION</a></div><div class="ttdeci">static const int32_t MAXIMUM_STEPPER_ACCELERATION</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00009">StepperWithLimits.h:9</a></div></div>
<div class="ttc" id="aStepperWithLimits_8h_html_aa551558e56e3703986579ff2a81de7eb"><div class="ttname"><a href="StepperWithLimits_8h.html#aa551558e56e3703986579ff2a81de7eb">MAXIMUM_STEPPER_SPEED</a></div><div class="ttdeci">static const uint32_t MAXIMUM_STEPPER_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00008">StepperWithLimits.h:8</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_a103d7a622bf70d2cb3945911ab041975"><div class="ttname"><a href="classStepperWithLimits.html#a103d7a622bf70d2cb3945911ab041975">StepperWithLimits::_pinMin</a></div><div class="ttdeci">uint8_t _pinMin</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00015">StepperWithLimits.h:15</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_a1c2d3d4055dfa71c9f46dfa1f321d068"><div class="ttname"><a href="classStepperWithLimits.html#a1c2d3d4055dfa71c9f46dfa1f321d068">StepperWithLimits::_pinMax</a></div><div class="ttdeci">uint8_t _pinMax</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00015">StepperWithLimits.h:15</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_a605fe0c33b0cc7a0012b21cce230ac40"><div class="ttname"><a href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">StepperWithLimits::_limitMin</a></div><div class="ttdeci">int32_t _limitMin</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00016">StepperWithLimits.h:16</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_a6078d72b8812a8da677c81f861dcbfc6"><div class="ttname"><a href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">StepperWithLimits::_posMin</a></div><div class="ttdeci">int32_t _posMin</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00017">StepperWithLimits.h:17</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_a92603ced68dd11e494775d7e7248fa21"><div class="ttname"><a href="classStepperWithLimits.html#a92603ced68dd11e494775d7e7248fa21">StepperWithLimits::_posMax</a></div><div class="ttdeci">int32_t _posMax</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00017">StepperWithLimits.h:17</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_aae2033a3b9de58e9e63c1458e4ce6647"><div class="ttname"><a href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">StepperWithLimits::_limitMax</a></div><div class="ttdeci">int32_t _limitMax</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00016">StepperWithLimits.h:16</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_afa1f4ac8a0b3daf8cb9140855c94db14"><div class="ttname"><a href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">StepperWithLimits::_stepper</a></div><div class="ttdeci">FastAccelStepper * _stepper</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00014">StepperWithLimits.h:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a424af3792f1eff26df3891ba87c67b0c_cgraph.png" border="0" usemap="#aclassStepperWithLimits_a424af3792f1eff26df3891ba87c67b0c_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a424af3792f1eff26df3891ba87c67b0c_cgraph" id="aclassStepperWithLimits_a424af3792f1eff26df3891ba87c67b0c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,140,45"/>
<area shape="rect" href="Dev_2StepperWithLimits_8cpp.html#a88d99673b7684df95731c08c8250cbf1" title=" " alt="" coords="188,13,292,38"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac7926d440acaa43ff7a0c433493a1fbb" name="ac7926d440acaa43ff7a0c433493a1fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7926d440acaa43ff7a0c433493a1fbb">&#9670;&#160;</a></span>checkLimitsAndResetIfNecessary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::checkLimitsAndResetIfNecessary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00213">213</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>                                                       {</div>
<div class="line"><span class="lineno">  214</span>  <span class="comment">// in case the stepper loses its position and therefore an endstop is triggered reset position</span></div>
<div class="line"><span class="lineno">  215</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a8f1a62cc3e8994f85b2e62734e87f24f">LIMIT_TRIGGER_VALUE</a> == digitalRead(<a class="code hl_variable" href="classStepperWithLimits.html#a103d7a622bf70d2cb3945911ab041975">_pinMin</a>)) {</div>
<div class="line"><span class="lineno">  216</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStopAndNewPosition(<a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>);</div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(<a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  218</span>  }</div>
<div class="line"><span class="lineno">  219</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a8f1a62cc3e8994f85b2e62734e87f24f">LIMIT_TRIGGER_VALUE</a> == digitalRead(<a class="code hl_variable" href="classStepperWithLimits.html#a1c2d3d4055dfa71c9f46dfa1f321d068">_pinMax</a>)) {</div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStopAndNewPosition(<a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>);</div>
<div class="line"><span class="lineno">  221</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(<a class="code hl_variable" href="classStepperWithLimits.html#a92603ced68dd11e494775d7e7248fa21">_posMax</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  222</span>  }</div>
<div class="line"><span class="lineno">  223</span>}</div>
<div class="ttc" id="aDev_2StepperWithLimits_8cpp_html_a8f1a62cc3e8994f85b2e62734e87f24f"><div class="ttname"><a href="Dev_2StepperWithLimits_8cpp.html#a8f1a62cc3e8994f85b2e62734e87f24f">LIMIT_TRIGGER_VALUE</a></div><div class="ttdeci">static const uint8_t LIMIT_TRIGGER_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00011">StepperWithLimits.cpp:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58e65fc92d3e4201210813479951f500" name="a58e65fc92d3e4201210813479951f500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e65fc92d3e4201210813479951f500">&#9670;&#160;</a></span>correctPos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StepperWithLimits::correctPos </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>posOffset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00272">272</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  273</span>{</div>
<div class="line"><span class="lineno">  274</span>  <span class="comment">// </span></div>
<div class="line"><span class="lineno">  275</span>  int32_t stepOffset =(int32_t)constrain(posOffset, -10, 10);</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>  <span class="comment">// correct pos</span></div>
<div class="line"><span class="lineno">  278</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setCurrentPosition(<a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition() + stepOffset);</div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  280</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a6b1e2ed3ef28f3fae180220ea2ebe1" name="a2a6b1e2ed3ef28f3fae180220ea2ebe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a6b1e2ed3ef28f3fae180220ea2ebe1">&#9670;&#160;</a></span>findMinMaxEndstops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::findMinMaxEndstops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00143">143</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>                                           {</div>
<div class="line"><span class="lineno">  144</span>  <span class="keywordflow">if</span> (! <a class="code hl_function" href="classStepperWithLimits.html#a11d69f4e87fb970b84772c4631f11054">hasValidStepper</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>  int32_t setPosition = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  147</span>  <span class="keywordflow">while</span>(! (<a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a8f1a62cc3e8994f85b2e62734e87f24f">LIMIT_TRIGGER_VALUE</a> == digitalRead(<a class="code hl_variable" href="classStepperWithLimits.html#a103d7a622bf70d2cb3945911ab041975">_pinMin</a>))){</div>
<div class="line"><span class="lineno">  148</span>    setPosition = setPosition - <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a04192301159165c6b640ffcb46e7baae">ENDSTOP_MOVEMENT</a>;</div>
<div class="line"><span class="lineno">  149</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  150</span>  }</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  </div>
<div class="line"><span class="lineno">  153</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStopAndNewPosition(0);</div>
<div class="line"><span class="lineno">  154</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(0);</div>
<div class="line"><span class="lineno">  155</span>  <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a> = 0;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  setPosition = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordflow">while</span>(! (<a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a8f1a62cc3e8994f85b2e62734e87f24f">LIMIT_TRIGGER_VALUE</a> == digitalRead(<a class="code hl_variable" href="classStepperWithLimits.html#a1c2d3d4055dfa71c9f46dfa1f321d068">_pinMax</a>))){</div>
<div class="line"><span class="lineno">  159</span>    setPosition = setPosition + <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a04192301159165c6b640ffcb46e7baae">ENDSTOP_MOVEMENT</a>;</div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  161</span>  }</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <a class="code hl_variable" href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">_limitMax</a> = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(<a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  166</span><span class="preprocessor">#if defined(SUPPORT_ESP32_PULSE_COUNTER)</span></div>
<div class="line"><span class="lineno">  167</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;clearPulseCounter();</div>
<div class="line"><span class="lineno">  168</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="aDev_2StepperWithLimits_8cpp_html_a04192301159165c6b640ffcb46e7baae"><div class="ttname"><a href="Dev_2StepperWithLimits_8cpp.html#a04192301159165c6b640ffcb46e7baae">ENDSTOP_MOVEMENT</a></div><div class="ttdeci">static const int32_t ENDSTOP_MOVEMENT</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00012">StepperWithLimits.cpp:12</a></div></div>
<div class="ttc" id="aclassStepperWithLimits_html_a11d69f4e87fb970b84772c4631f11054"><div class="ttname"><a href="classStepperWithLimits.html#a11d69f4e87fb970b84772c4631f11054">StepperWithLimits::hasValidStepper</a></div><div class="ttdeci">bool hasValidStepper() const</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00021">StepperWithLimits.h:21</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a2a6b1e2ed3ef28f3fae180220ea2ebe1_cgraph.png" border="0" usemap="#aclassStepperWithLimits_a2a6b1e2ed3ef28f3fae180220ea2ebe1_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a2a6b1e2ed3ef28f3fae180220ea2ebe1_cgraph" id="aclassStepperWithLimits_a2a6b1e2ed3ef28f3fae180220ea2ebe1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,147,45"/>
<area shape="rect" href="classStepperWithLimits.html#a11d69f4e87fb970b84772c4631f11054" title=" " alt="" coords="195,5,329,45"/>
</map>
</div>

</div>
</div>
<a id="a55714344e8a318bf54da2139fed63695" name="a55714344e8a318bf54da2139fed63695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55714344e8a318bf54da2139fed63695">&#9670;&#160;</a></span>findMinMaxSensorless()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::findMinMaxSensorless </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classisv57communication.html">isv57communication</a> *&#160;</td>
          <td class="paramname"><em>isv57</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00059">59</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>{</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">if</span> (! <a class="code hl_function" href="classStepperWithLimits.html#a11d69f4e87fb970b84772c4631f11054">hasValidStepper</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  <span class="comment">// obtain servo states</span></div>
<div class="line"><span class="lineno">   65</span>  isv57-&gt;<a class="code hl_function" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f">readServoStates</a>();</div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordtype">bool</span> endPosDetected = abs( isv57-&gt;<a class="code hl_variable" href="classisv57communication.html#a6d792deda1836627e79534cb710eab7f">servo_current_percent</a>) &gt; <a class="code hl_define" href="Dev_2StepperWithLimits_8cpp.html#a63f6f0d2dd0bf73350f4182e64e70e37">STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</a>;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>  int32_t setPosition = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">   70</span>  <span class="keywordflow">while</span>(!endPosDetected){</div>
<div class="line"><span class="lineno">   71</span>    delay(10);</div>
<div class="line"><span class="lineno">   72</span>    isv57-&gt;<a class="code hl_function" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f">readServoStates</a>();</div>
<div class="line"><span class="lineno">   73</span>    endPosDetected = abs( isv57-&gt;<a class="code hl_variable" href="classisv57communication.html#a6d792deda1836627e79534cb710eab7f">servo_current_percent</a>) &gt; <a class="code hl_define" href="Dev_2StepperWithLimits_8cpp.html#a63f6f0d2dd0bf73350f4182e64e70e37">STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</a>;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    setPosition = setPosition - <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#aa30177822c5d58bcb0fc48fef65094a8">ENDSTOP_MOVEMENT_SENSORLESS</a>;</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">//Serial.print(&quot;Min_DetValue: &quot;);</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">//Serial.println(isv57-&gt;servo_current_percent);</span></div>
<div class="line"><span class="lineno">   80</span>  }</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>  <span class="comment">// move away from min position to reduce servos current reading</span></div>
<div class="line"><span class="lineno">   83</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStop();</div>
<div class="line"><span class="lineno">   84</span>  setPosition = setPosition + 5 * <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#aa30177822c5d58bcb0fc48fef65094a8">ENDSTOP_MOVEMENT_SENSORLESS</a>;</div>
<div class="line"><span class="lineno">   85</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   86</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStopAndNewPosition(0);</div>
<div class="line"><span class="lineno">   87</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(0);</div>
<div class="line"><span class="lineno">   88</span>  <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a> = 0;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>  <span class="comment">// wait N ms to let the endPosDetected become 0 again</span></div>
<div class="line"><span class="lineno">   91</span>  <span class="comment">//delay(300);</span></div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>  <span class="comment">// read servo states again</span></div>
<div class="line"><span class="lineno">   94</span>  <span class="comment">//isv57-&gt;readServoStates();</span></div>
<div class="line"><span class="lineno">   95</span>  endPosDetected = 0;<span class="comment">//abs( isv57-&gt;servo_current_percent) &gt; STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT;</span></div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>  setPosition = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">   98</span>  <span class="keywordflow">while</span> (!endPosDetected) {</div>
<div class="line"><span class="lineno">   99</span>    delay(10);</div>
<div class="line"><span class="lineno">  100</span>    isv57-&gt;<a class="code hl_function" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f">readServoStates</a>();</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">// only trigger when difference is significant</span></div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span> (setPosition &gt; <a class="code hl_define" href="Dev_2StepperWithLimits_8cpp.html#a9e8f78bc0710966135d0dc094412c5a6">MIN_POS_MAX_ENDSTOP</a>)</div>
<div class="line"><span class="lineno">  104</span>    {</div>
<div class="line"><span class="lineno">  105</span>      endPosDetected = abs( isv57-&gt;<a class="code hl_variable" href="classisv57communication.html#a6d792deda1836627e79534cb710eab7f">servo_current_percent</a>) &gt; <a class="code hl_define" href="Dev_2StepperWithLimits_8cpp.html#a63f6f0d2dd0bf73350f4182e64e70e37">STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</a>;  </div>
<div class="line"><span class="lineno">  106</span>    }</div>
<div class="line"><span class="lineno">  107</span>    </div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    setPosition = setPosition + <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#aa30177822c5d58bcb0fc48fef65094a8">ENDSTOP_MOVEMENT_SENSORLESS</a>;</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">//Serial.print(&quot;Max_DetValue: &quot;);</span></div>
<div class="line"><span class="lineno">  113</span>    <span class="comment">//Serial.println(isv57-&gt;servo_current_percent);</span></div>
<div class="line"><span class="lineno">  114</span>  }</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>  <span class="comment">//_stepper-&gt;forceStop();</span></div>
<div class="line"><span class="lineno">  117</span>  <span class="comment">//setPosition = setPosition - 5 * ENDSTOP_MOVEMENT;</span></div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>  <a class="code hl_variable" href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">_limitMax</a> = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>  <span class="comment">// reduce speed and accelerartion</span></div>
<div class="line"><span class="lineno">  122</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setSpeedInHz(<a class="code hl_variable" href="StepperWithLimits_8h.html#aa551558e56e3703986579ff2a81de7eb">MAXIMUM_STEPPER_SPEED</a> / 4);</div>
<div class="line"><span class="lineno">  123</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setAcceleration(<a class="code hl_variable" href="StepperWithLimits_8h.html#a8f5c3b1c34c1f1d9e25b686b8730125a">MAXIMUM_STEPPER_ACCELERATION</a> / 4);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>  <span class="comment">// move to min</span></div>
<div class="line"><span class="lineno">  126</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(<a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <span class="comment">// increase speed and accelerartion</span></div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setAcceleration(<a class="code hl_variable" href="StepperWithLimits_8h.html#a8f5c3b1c34c1f1d9e25b686b8730125a">MAXIMUM_STEPPER_ACCELERATION</a>);</div>
<div class="line"><span class="lineno">  130</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setSpeedInHz(<a class="code hl_variable" href="StepperWithLimits_8h.html#aa551558e56e3703986579ff2a81de7eb">MAXIMUM_STEPPER_SPEED</a>);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span><span class="preprocessor">#if defined(SUPPORT_ESP32_PULSE_COUNTER)</span></div>
<div class="line"><span class="lineno">  136</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;clearPulseCounter();</div>
<div class="line"><span class="lineno">  137</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>}</div>
<div class="ttc" id="aDev_2StepperWithLimits_8cpp_html_a63f6f0d2dd0bf73350f4182e64e70e37"><div class="ttname"><a href="Dev_2StepperWithLimits_8cpp.html#a63f6f0d2dd0bf73350f4182e64e70e37">STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</a></div><div class="ttdeci">#define STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00008">StepperWithLimits.cpp:8</a></div></div>
<div class="ttc" id="aDev_2StepperWithLimits_8cpp_html_a9e8f78bc0710966135d0dc094412c5a6"><div class="ttname"><a href="Dev_2StepperWithLimits_8cpp.html#a9e8f78bc0710966135d0dc094412c5a6">MIN_POS_MAX_ENDSTOP</a></div><div class="ttdeci">#define MIN_POS_MAX_ENDSTOP</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00009">StepperWithLimits.cpp:9</a></div></div>
<div class="ttc" id="aDev_2StepperWithLimits_8cpp_html_aa30177822c5d58bcb0fc48fef65094a8"><div class="ttname"><a href="Dev_2StepperWithLimits_8cpp.html#aa30177822c5d58bcb0fc48fef65094a8">ENDSTOP_MOVEMENT_SENSORLESS</a></div><div class="ttdeci">static const int32_t ENDSTOP_MOVEMENT_SENSORLESS</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00013">StepperWithLimits.cpp:13</a></div></div>
<div class="ttc" id="aclassisv57communication_html_a54a21dcfaa7950e51066f49119145c8f"><div class="ttname"><a href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f">isv57communication::readServoStates</a></div><div class="ttdeci">void readServoStates()</div><div class="ttdef"><b>Definition:</b> <a href="isv57communication_8cpp_source.html#l00167">isv57communication.cpp:167</a></div></div>
<div class="ttc" id="aclassisv57communication_html_a6d792deda1836627e79534cb710eab7f"><div class="ttname"><a href="classisv57communication.html#a6d792deda1836627e79534cb710eab7f">isv57communication::servo_current_percent</a></div><div class="ttdeci">int16_t servo_current_percent</div><div class="ttdef"><b>Definition:</b> <a href="isv57communication_8h_source.html#l00067">isv57communication.h:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a55714344e8a318bf54da2139fed63695_cgraph.png" border="0" usemap="#aclassStepperWithLimits_a55714344e8a318bf54da2139fed63695_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a55714344e8a318bf54da2139fed63695_cgraph" id="aclassStepperWithLimits_a55714344e8a318bf54da2139fed63695_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,157,77"/>
<area shape="rect" href="classStepperWithLimits.html#a11d69f4e87fb970b84772c4631f11054" title=" " alt="" coords="209,5,343,45"/>
<area shape="rect" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f" title=" " alt="" coords="205,69,347,109"/>
<area shape="rect" href="classModbus.html#aaeaf21cf9c6795dee76b775b39630cfe" title=" " alt="" coords="395,27,541,53"/>
<area shape="rect" href="classModbus.html#a9a0902f1e2f2f664a0a60a6fae5cd74a" title=" " alt="" coords="411,77,525,102"/>
<area shape="rect" href="classModbus.html#a2c2dd3e6add982e290737dcc66c516d5" title=" " alt="" coords="413,126,523,151"/>
<area shape="rect" href="classModbus.html#af81965f56bff22d850f97bfc3b5b9760" title=" " alt="" coords="589,27,728,53"/>
</map>
</div>

</div>
</div>
<a id="a9387288097ea2cb4dbf120d8df003177" name="a9387288097ea2cb4dbf120d8df003177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9387288097ea2cb4dbf120d8df003177">&#9670;&#160;</a></span>getCurrentPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::getCurrentPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Main_2StepperWithLimits_8cpp_source.html#l00231">231</a> of file <a class="el" href="Main_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>                                                    {</div>
<div class="line"><span class="lineno">  232</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  233</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a9387288097ea2cb4dbf120d8df003177_icgraph.png" border="0" usemap="#aclassStepperWithLimits_a9387288097ea2cb4dbf120d8df003177_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a9387288097ea2cb4dbf120d8df003177_icgraph" id="aclassStepperWithLimits_a9387288097ea2cb4dbf120d8df003177_icgraph">
<area shape="rect" title=" " alt="" coords="257,5,392,45"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#ab8a29147ad2e6bee59c97db25bd7f4ad" title=" " alt="" coords="5,13,209,38"/>
</map>
</div>

</div>
</div>
<a id="aef91cbf9e5f772215cecfc46977aa7c3" name="aef91cbf9e5f772215cecfc46977aa7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef91cbf9e5f772215cecfc46977aa7c3">&#9670;&#160;</a></span>getCurrentPositionFraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double StepperWithLimits::getCurrentPositionFraction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00234">234</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  234</span>                                                           {</div>
<div class="line"><span class="lineno">  235</span>  <span class="keywordflow">return</span> double(getCurrentPositionSteps()) / <a class="code hl_function" href="classStepperWithLimits.html#ac61366d2883f5cde889a75e1f9a32157">getTravelSteps</a>();</div>
<div class="line"><span class="lineno">  236</span>}</div>
<div class="ttc" id="aclassStepperWithLimits_html_ac61366d2883f5cde889a75e1f9a32157"><div class="ttname"><a href="classStepperWithLimits.html#ac61366d2883f5cde889a75e1f9a32157">StepperWithLimits::getTravelSteps</a></div><div class="ttdeci">int32_t getTravelSteps() const</div><div class="ttdef"><b>Definition:</b> <a href="StepperWithLimits_8h_source.html#l00046">StepperWithLimits.h:46</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_cgraph.png" border="0" usemap="#aclassStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_cgraph" id="aclassStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,45"/>
<area shape="rect" href="classStepperWithLimits.html#ac61366d2883f5cde889a75e1f9a32157" title=" " alt="" coords="229,5,364,45"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_icgraph.png" border="0" usemap="#aclassStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_icgraph" id="aclassStepperWithLimits_aef91cbf9e5f772215cecfc46977aa7c3_icgraph">
<area shape="rect" title=" " alt="" coords="211,5,387,45"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#a930e00dcd29fd9a4153d2e96cf2f0dd3" title=" " alt="" coords="5,13,163,38"/>
</map>
</div>

</div>
</div>
<a id="a866100a58cdcdb1bddb56fc9d2092924" name="a866100a58cdcdb1bddb56fc9d2092924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866100a58cdcdb1bddb56fc9d2092924">&#9670;&#160;</a></span>getCurrentPositionFractionFromExternalPos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double StepperWithLimits::getCurrentPositionFractionFromExternalPos </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>extPos_i32</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Main_2StepperWithLimits_8cpp_source.html#l00240">240</a> of file <a class="el" href="Main_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>                                                                                            {</div>
<div class="line"><span class="lineno">  241</span>  <span class="keywordflow">return</span> (<span class="keywordtype">double</span>(extPos_i32) - <a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>)/ <a class="code hl_function" href="classStepperWithLimits.html#ac61366d2883f5cde889a75e1f9a32157">getTravelSteps</a>();</div>
<div class="line"><span class="lineno">  242</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_cgraph.png" border="0" usemap="#aclassStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_cgraph" id="aclassStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,60"/>
<area shape="rect" href="classStepperWithLimits.html#ac61366d2883f5cde889a75e1f9a32157" title=" " alt="" coords="229,13,364,53"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_icgraph.png" border="0" usemap="#aclassStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_icgraph" id="aclassStepperWithLimits_a866100a58cdcdb1bddb56fc9d2092924_icgraph">
<area shape="rect" title=" " alt="" coords="257,5,433,60"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#ab8a29147ad2e6bee59c97db25bd7f4ad" title=" " alt="" coords="5,20,209,45"/>
</map>
</div>

</div>
</div>
<a id="a6e837fe28ef4ee22e787b5b6d6bfc716" name="a6e837fe28ef4ee22e787b5b6d6bfc716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e837fe28ef4ee22e787b5b6d6bfc716">&#9670;&#160;</a></span>getCurrentPositionFromMin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::getCurrentPositionFromMin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Main_2StepperWithLimits_8cpp_source.html#l00227">227</a> of file <a class="el" href="Main_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                                                           {</div>
<div class="line"><span class="lineno">  228</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition() - <a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>;</div>
<div class="line"><span class="lineno">  229</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a6e837fe28ef4ee22e787b5b6d6bfc716_icgraph.png" border="0" usemap="#aclassStepperWithLimits_a6e837fe28ef4ee22e787b5b6d6bfc716_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a6e837fe28ef4ee22e787b5b6d6bfc716_icgraph" id="aclassStepperWithLimits_a6e837fe28ef4ee22e787b5b6d6bfc716_icgraph">
<area shape="rect" title=" " alt="" coords="211,23,391,63"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#a930e00dcd29fd9a4153d2e96cf2f0dd3" title=" " alt="" coords="5,5,163,31"/>
<area shape="rect" href="PedalGeometry_8cpp.html#a8628b5a22a601ab67ed6328e36b476bc" title=" " alt="" coords="21,55,147,80"/>
</map>
</div>

</div>
</div>
<a id="afe9c5f23735aa95e3f599a85b4515397" name="afe9c5f23735aa95e3f599a85b4515397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe9c5f23735aa95e3f599a85b4515397">&#9670;&#160;</a></span>getLimitMax()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::getLimitMax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00045">45</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">_limitMax</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2056dc79cd801ddee648385164186bf3" name="a2056dc79cd801ddee648385164186bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2056dc79cd801ddee648385164186bf3">&#9670;&#160;</a></span>getLimitMin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::getLimitMin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00044">44</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a61ccdee6605b7c02cc5b71786de8644e" name="a61ccdee6605b7c02cc5b71786de8644e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ccdee6605b7c02cc5b71786de8644e">&#9670;&#160;</a></span>getTargetPositionSteps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::getTargetPositionSteps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00238">238</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  238</span>                                                        {</div>
<div class="line"><span class="lineno">  239</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getPositionAfterCommandsCompleted();</div>
<div class="line"><span class="lineno">  240</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac61366d2883f5cde889a75e1f9a32157" name="ac61366d2883f5cde889a75e1f9a32157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac61366d2883f5cde889a75e1f9a32157">&#9670;&#160;</a></span>getTravelSteps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::getTravelSteps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00046">46</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#a92603ced68dd11e494775d7e7248fa21">_posMax</a> - <a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a>; }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_ac61366d2883f5cde889a75e1f9a32157_icgraph.png" border="0" usemap="#aclassStepperWithLimits_ac61366d2883f5cde889a75e1f9a32157_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_ac61366d2883f5cde889a75e1f9a32157_icgraph" id="aclassStepperWithLimits_ac61366d2883f5cde889a75e1f9a32157_icgraph">
<area shape="rect" title=" " alt="" coords="481,41,616,81"/>
<area shape="rect" href="classStepperWithLimits.html#aef91cbf9e5f772215cecfc46977aa7c3" title=" " alt="" coords="257,5,433,45"/>
<area shape="rect" href="classStepperWithLimits.html#a866100a58cdcdb1bddb56fc9d2092924" title=" " alt="" coords="257,70,433,125"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#a930e00dcd29fd9a4153d2e96cf2f0dd3" title=" " alt="" coords="29,13,186,38"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#ab8a29147ad2e6bee59c97db25bd7f4ad" title=" " alt="" coords="5,85,209,110"/>
</map>
</div>

</div>
</div>
<a id="a11d69f4e87fb970b84772c4631f11054" name="a11d69f4e87fb970b84772c4631f11054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d69f4e87fb970b84772c4631f11054">&#9670;&#160;</a></span>hasValidStepper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StepperWithLimits::hasValidStepper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00021">21</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   21</span>{ <span class="keywordflow">return</span> NULL != <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>; }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a11d69f4e87fb970b84772c4631f11054_icgraph.png" border="0" usemap="#aclassStepperWithLimits_a11d69f4e87fb970b84772c4631f11054_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a11d69f4e87fb970b84772c4631f11054_icgraph" id="aclassStepperWithLimits_a11d69f4e87fb970b84772c4631f11054_icgraph">
<area shape="rect" title=" " alt="" coords="205,37,340,77"/>
<area shape="rect" href="classStepperWithLimits.html#a2a6b1e2ed3ef28f3fae180220ea2ebe1" title=" " alt="" coords="11,5,152,45"/>
<area shape="rect" href="classStepperWithLimits.html#a55714344e8a318bf54da2139fed63695" title=" " alt="" coords="5,69,157,109"/>
</map>
</div>

</div>
</div>
<a id="a8313b74bf1e3ed65cb8f0ecd2e12f1d3" name="a8313b74bf1e3ed65cb8f0ecd2e12f1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8313b74bf1e3ed65cb8f0ecd2e12f1d3">&#9670;&#160;</a></span>isAtMinPos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StepperWithLimits::isAtMinPos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00264">264</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  265</span>{</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>  <span class="keywordtype">bool</span> isNotRunning = !<a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;isRunning();</div>
<div class="line"><span class="lineno">  268</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classStepperWithLimits.html#a8313b74bf1e3ed65cb8f0ecd2e12f1d3">isAtMinPos</a> = getCurrentPositionSteps() == 0;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classStepperWithLimits.html#a8313b74bf1e3ed65cb8f0ecd2e12f1d3">isAtMinPos</a> &amp;&amp; isNotRunning;</div>
<div class="line"><span class="lineno">  271</span>}</div>
<div class="ttc" id="aclassStepperWithLimits_html_a8313b74bf1e3ed65cb8f0ecd2e12f1d3"><div class="ttname"><a href="classStepperWithLimits.html#a8313b74bf1e3ed65cb8f0ecd2e12f1d3">StepperWithLimits::isAtMinPos</a></div><div class="ttdeci">bool isAtMinPos()</div><div class="ttdef"><b>Definition:</b> <a href="Dev_2StepperWithLimits_8cpp_source.html#l00264">StepperWithLimits.cpp:264</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_cgraph.png" border="0" usemap="#aclassStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_cgraph" id="aclassStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,140,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_icgraph.png" border="0" usemap="#aclassStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_icgraph" id="aclassStepperWithLimits_a8313b74bf1e3ed65cb8f0ecd2e12f1d3_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,140,69"/>
</map>
</div>

</div>
</div>
<a id="afbc22a07418cfeee8055f98b534dc4fd" name="afbc22a07418cfeee8055f98b534dc4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc22a07418cfeee8055f98b534dc4fd">&#9670;&#160;</a></span>moveTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t StepperWithLimits::moveTo </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>blocking</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00225">225</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  225</span>                                                                {</div>
<div class="line"><span class="lineno">  226</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(position, blocking);</div>
<div class="line"><span class="lineno">  227</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_afbc22a07418cfeee8055f98b534dc4fd_icgraph.png" border="0" usemap="#aclassStepperWithLimits_afbc22a07418cfeee8055f98b534dc4fd_icgraph" alt=""/></div>
<map name="aclassStepperWithLimits_afbc22a07418cfeee8055f98b534dc4fd_icgraph" id="aclassStepperWithLimits_afbc22a07418cfeee8055f98b534dc4fd_icgraph">
<area shape="rect" title=" " alt="" coords="211,5,345,45"/>
<area shape="rect" href="StepperMovementStrategy_8h.html#a930e00dcd29fd9a4153d2e96cf2f0dd3" title=" " alt="" coords="5,13,163,38"/>
</map>
</div>

</div>
</div>
<a id="ace3be83237379d9977fc7ee7fec6d08d" name="ace3be83237379d9977fc7ee7fec6d08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3be83237379d9977fc7ee7fec6d08d">&#9670;&#160;</a></span>printStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::printStates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00243">243</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  244</span>{</div>
<div class="line"><span class="lineno">  245</span>  int32_t currentStepperPos = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  246</span>  int32_t currentStepperVel = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentSpeedInUs();</div>
<div class="line"><span class="lineno">  247</span>  int32_t currentStepperVel2 = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentSpeedInMilliHz();</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>  <span class="comment">//Serial.println(currentStepperVel);</span></div>
<div class="line"><span class="lineno">  251</span>  </div>
<div class="line"><span class="lineno">  252</span>  int32_t currentStepperAccel = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentAcceleration();</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>  <span class="keyword">static</span> <a class="code hl_class" href="classRTDebugOutput.html">RTDebugOutput&lt;int32_t, 4&gt;</a> rtDebugFilter({ <span class="stringliteral">&quot;Pos&quot;</span>, <span class="stringliteral">&quot;Vel&quot;</span>, <span class="stringliteral">&quot;Vel2&quot;</span>, <span class="stringliteral">&quot;Accel&quot;</span>});</div>
<div class="line"><span class="lineno">  255</span>  rtDebugFilter.<a class="code hl_function" href="classRTDebugOutput.html#a5af3bb9ea5c877fe34db54b41c2f9f81">offerData</a>({ currentStepperPos, currentStepperVel, currentStepperVel2, currentStepperAccel});</div>
<div class="line"><span class="lineno">  256</span>}</div>
<div class="ttc" id="aclassRTDebugOutput_html"><div class="ttname"><a href="classRTDebugOutput.html">RTDebugOutput</a></div><div class="ttdef"><b>Definition:</b> <a href="RTDebugOutput_8h_source.html#l00007">RTDebugOutput.h:7</a></div></div>
<div class="ttc" id="aclassRTDebugOutput_html_a5af3bb9ea5c877fe34db54b41c2f9f81"><div class="ttname"><a href="classRTDebugOutput.html#a5af3bb9ea5c877fe34db54b41c2f9f81">RTDebugOutput::offerData</a></div><div class="ttdeci">void offerData(std::array&lt; TVALUE, NVALS &gt; values)</div><div class="ttdef"><b>Definition:</b> <a href="RTDebugOutput_8h_source.html#l00020">RTDebugOutput.h:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_ace3be83237379d9977fc7ee7fec6d08d_cgraph.png" border="0" usemap="#aclassStepperWithLimits_ace3be83237379d9977fc7ee7fec6d08d_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_ace3be83237379d9977fc7ee7fec6d08d_cgraph" id="aclassStepperWithLimits_ace3be83237379d9977fc7ee7fec6d08d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,140,45"/>
<area shape="rect" href="classRTDebugOutput.html#a5af3bb9ea5c877fe34db54b41c2f9f81" title=" " alt="" coords="188,13,361,38"/>
</map>
</div>

</div>
</div>
<a id="a9b8e3214139dc235b28cf71f79130773" name="a9b8e3214139dc235b28cf71f79130773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b8e3214139dc235b28cf71f79130773">&#9670;&#160;</a></span>refindMinLimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::refindMinLimit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00177">177</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  177</span>                                       {</div>
<div class="line"><span class="lineno">  178</span>  int32_t setPosition = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  179</span>  <span class="keywordflow">while</span>(! (<a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a8f1a62cc3e8994f85b2e62734e87f24f">LIMIT_TRIGGER_VALUE</a> == digitalRead(<a class="code hl_variable" href="classStepperWithLimits.html#a103d7a622bf70d2cb3945911ab041975">_pinMin</a>))){</div>
<div class="line"><span class="lineno">  180</span>    setPosition = setPosition - <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#a04192301159165c6b640ffcb46e7baae">ENDSTOP_MOVEMENT</a>;</div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  182</span>  }</div>
<div class="line"><span class="lineno">  183</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStopAndNewPosition(<a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>);</div>
<div class="line"><span class="lineno">  184</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ae9c45f6a0453402fc1c3358080dc42" name="a8ae9c45f6a0453402fc1c3358080dc42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae9c45f6a0453402fc1c3358080dc42">&#9670;&#160;</a></span>refindMinLimitSensorless()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::refindMinLimitSensorless </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classisv57communication.html">isv57communication</a> *&#160;</td>
          <td class="paramname"><em>isv57</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00186">186</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  186</span>                                                                           {</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>  <span class="comment">// obtain servo states</span></div>
<div class="line"><span class="lineno">  189</span>  isv57-&gt;<a class="code hl_function" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f">readServoStates</a>();</div>
<div class="line"><span class="lineno">  190</span>  <span class="keywordtype">bool</span> endPosDetected = abs( isv57-&gt;<a class="code hl_variable" href="classisv57communication.html#a6d792deda1836627e79534cb710eab7f">servo_current_percent</a>) &gt; <a class="code hl_define" href="Dev_2StepperWithLimits_8cpp.html#a63f6f0d2dd0bf73350f4182e64e70e37">STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</a>;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>  int32_t setPosition = <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;getCurrentPosition();</div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordflow">while</span>(!endPosDetected){</div>
<div class="line"><span class="lineno">  195</span>    delay(10);</div>
<div class="line"><span class="lineno">  196</span>    isv57-&gt;<a class="code hl_function" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f">readServoStates</a>();</div>
<div class="line"><span class="lineno">  197</span>    endPosDetected = abs( isv57-&gt;<a class="code hl_variable" href="classisv57communication.html#a6d792deda1836627e79534cb710eab7f">servo_current_percent</a>) &gt; <a class="code hl_define" href="Dev_2StepperWithLimits_8cpp.html#a63f6f0d2dd0bf73350f4182e64e70e37">STEPPER_WITH_LIMITS_SENSORLESS_CURRENT_THRESHOLD_IN_PERCENT</a>;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    setPosition = setPosition - <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#aa30177822c5d58bcb0fc48fef65094a8">ENDSTOP_MOVEMENT_SENSORLESS</a>;</div>
<div class="line"><span class="lineno">  200</span>    <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment">//Serial.print(&quot;Min_DetValue: &quot;);</span></div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">//Serial.println(isv57-&gt;servo_current_percent);</span></div>
<div class="line"><span class="lineno">  204</span>  }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>  <span class="comment">// move away from min position to reduce servos current reading</span></div>
<div class="line"><span class="lineno">  207</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStop();</div>
<div class="line"><span class="lineno">  208</span>  setPosition = setPosition + 5 * <a class="code hl_variable" href="Dev_2StepperWithLimits_8cpp.html#aa30177822c5d58bcb0fc48fef65094a8">ENDSTOP_MOVEMENT_SENSORLESS</a>;</div>
<div class="line"><span class="lineno">  209</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;moveTo(setPosition, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  210</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;forceStopAndNewPosition(<a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>);</div>
<div class="line"><span class="lineno">  211</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classStepperWithLimits_a8ae9c45f6a0453402fc1c3358080dc42_cgraph.png" border="0" usemap="#aclassStepperWithLimits_a8ae9c45f6a0453402fc1c3358080dc42_cgraph" alt=""/></div>
<map name="aclassStepperWithLimits_a8ae9c45f6a0453402fc1c3358080dc42_cgraph" id="aclassStepperWithLimits_a8ae9c45f6a0453402fc1c3358080dc42_cgraph">
<area shape="rect" title=" " alt="" coords="5,47,173,87"/>
<area shape="rect" href="classisv57communication.html#a54a21dcfaa7950e51066f49119145c8f" title=" " alt="" coords="221,47,363,87"/>
<area shape="rect" href="classModbus.html#aaeaf21cf9c6795dee76b775b39630cfe" title=" " alt="" coords="411,5,557,31"/>
<area shape="rect" href="classModbus.html#a9a0902f1e2f2f664a0a60a6fae5cd74a" title=" " alt="" coords="427,55,541,80"/>
<area shape="rect" href="classModbus.html#a2c2dd3e6add982e290737dcc66c516d5" title=" " alt="" coords="429,104,539,129"/>
<area shape="rect" href="classModbus.html#af81965f56bff22d850f97bfc3b5b9760" title=" " alt="" coords="605,5,744,31"/>
</map>
</div>

</div>
</div>
<a id="add7529fd847ffb9c2fe45afed1d8480e" name="add7529fd847ffb9c2fe45afed1d8480e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7529fd847ffb9c2fe45afed1d8480e">&#9670;&#160;</a></span>setSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::setSpeed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speedInStepsPerSecond</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00259">259</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>{</div>
<div class="line"><span class="lineno">  261</span>  <a class="code hl_variable" href="classStepperWithLimits.html#afa1f4ac8a0b3daf8cb9140855c94db14">_stepper</a>-&gt;setSpeedInHz(speedInStepsPerSecond);            <span class="comment">// steps/s </span></div>
<div class="line"><span class="lineno">  262</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1437a878e39449ff60809a21a4420be" name="ac1437a878e39449ff60809a21a4420be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1437a878e39449ff60809a21a4420be">&#9670;&#160;</a></span>updatePedalMinMaxPos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StepperWithLimits::updatePedalMinMaxPos </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pedalStartPosPct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pedalEndPosPct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html#l00171">171</a> of file <a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  171</span>                                                                                             {</div>
<div class="line"><span class="lineno">  172</span>  int32_t limitRange = <a class="code hl_variable" href="classStepperWithLimits.html#aae2033a3b9de58e9e63c1458e4ce6647">_limitMax</a> - <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a>;</div>
<div class="line"><span class="lineno">  173</span>  <a class="code hl_variable" href="classStepperWithLimits.html#a6078d72b8812a8da677c81f861dcbfc6">_posMin</a> = <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a> + ((limitRange * pedalStartPosPct) / 100);</div>
<div class="line"><span class="lineno">  174</span>  <a class="code hl_variable" href="classStepperWithLimits.html#a92603ced68dd11e494775d7e7248fa21">_posMax</a> = <a class="code hl_variable" href="classStepperWithLimits.html#a605fe0c33b0cc7a0012b21cce230ac40">_limitMin</a> + ((limitRange * pedalEndPosPct) / 100);</div>
<div class="line"><span class="lineno">  175</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aae2033a3b9de58e9e63c1458e4ce6647" name="aae2033a3b9de58e9e63c1458e4ce6647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2033a3b9de58e9e63c1458e4ce6647">&#9670;&#160;</a></span>_limitMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::_limitMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00016">16</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<a id="a605fe0c33b0cc7a0012b21cce230ac40" name="a605fe0c33b0cc7a0012b21cce230ac40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605fe0c33b0cc7a0012b21cce230ac40">&#9670;&#160;</a></span>_limitMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::_limitMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00016">16</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<a id="a1c2d3d4055dfa71c9f46dfa1f321d068" name="a1c2d3d4055dfa71c9f46dfa1f321d068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c2d3d4055dfa71c9f46dfa1f321d068">&#9670;&#160;</a></span>_pinMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StepperWithLimits::_pinMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00015">15</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<a id="a103d7a622bf70d2cb3945911ab041975" name="a103d7a622bf70d2cb3945911ab041975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103d7a622bf70d2cb3945911ab041975">&#9670;&#160;</a></span>_pinMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StepperWithLimits::_pinMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00015">15</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<a id="a92603ced68dd11e494775d7e7248fa21" name="a92603ced68dd11e494775d7e7248fa21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92603ced68dd11e494775d7e7248fa21">&#9670;&#160;</a></span>_posMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::_posMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00017">17</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<a id="a6078d72b8812a8da677c81f861dcbfc6" name="a6078d72b8812a8da677c81f861dcbfc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6078d72b8812a8da677c81f861dcbfc6">&#9670;&#160;</a></span>_posMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t StepperWithLimits::_posMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00017">17</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<a id="afa1f4ac8a0b3daf8cb9140855c94db14" name="afa1f4ac8a0b3daf8cb9140855c94db14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1f4ac8a0b3daf8cb9140855c94db14">&#9670;&#160;</a></span>_stepper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FastAccelStepper* StepperWithLimits::_stepper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StepperWithLimits_8h_source.html#l00014">14</a> of file <a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Arduino/Esp32/Main/<a class="el" href="StepperWithLimits_8h_source.html">StepperWithLimits.h</a></li>
<li>Arduino/Esp32/Dev/<a class="el" href="Dev_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a></li>
<li>Arduino/Esp32/Main/<a class="el" href="Main_2StepperWithLimits_8cpp_source.html">StepperWithLimits.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
